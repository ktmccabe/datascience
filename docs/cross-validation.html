<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8.8 Cross-Validation | Data Science for Political Science</title>
  <meta name="description" content="8.8 Cross-Validation | Data Science for Political Science" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="8.8 Cross-Validation | Data Science for Political Science" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8.8 Cross-Validation | Data Science for Political Science" />
  
  
  

<meta name="author" content="Instructor: Katherine McCabe" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="uncertainty-with-prediction.html"/>
<link rel="next" href="fairness.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<link href="libs/vembedr-0.1.4/css/vembedr.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Course Notes</a>
<ul>
<li class="chapter" data-level="1.1" data-path="what-have-i-signed-up-for.html"><a href="what-have-i-signed-up-for.html"><i class="fa fa-check"></i><b>1.1</b> What have I signed up for?</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="what-have-i-signed-up-for.html"><a href="what-have-i-signed-up-for.html#data-science-can-help-social-scientists"><i class="fa fa-check"></i><b>1.1.1</b> Data Science Can Help Social Scientists</a></li>
<li class="chapter" data-level="1.1.2" data-path="what-have-i-signed-up-for.html"><a href="what-have-i-signed-up-for.html#course-goals"><i class="fa fa-check"></i><b>1.1.2</b> Course Goals</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="rsetup.html"><a href="rsetup.html"><i class="fa fa-check"></i><b>1.2</b> Setup in R</a></li>
<li class="chapter" data-level="1.3" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html"><i class="fa fa-check"></i><b>1.3</b> First Time Working in R and RStudio</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#open-rstudio"><i class="fa fa-check"></i><b>1.3.1</b> Open RStudio</a></li>
<li class="chapter" data-level="1.3.2" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#using-r-as-a-calculator"><i class="fa fa-check"></i><b>1.3.2</b> Using R as a Calculator</a></li>
<li class="chapter" data-level="1.3.3" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#working-in-an-r-script"><i class="fa fa-check"></i><b>1.3.3</b> Working in an R Script</a></li>
<li class="chapter" data-level="1.3.4" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#preparing-your-r-script"><i class="fa fa-check"></i><b>1.3.4</b> Preparing your R script</a></li>
<li class="chapter" data-level="1.3.5" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#executing-commands-in-your-r-script"><i class="fa fa-check"></i><b>1.3.5</b> Executing Commands in your R script</a></li>
<li class="chapter" data-level="1.3.6" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#objects"><i class="fa fa-check"></i><b>1.3.6</b> Objects</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="assignment-1.html"><a href="assignment-1.html"><i class="fa fa-check"></i><b>1.4</b> Assignment 1</a></li>
<li class="chapter" data-level="1.5" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>1.5</b> R Markdown</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="r-markdown.html"><a href="r-markdown.html#how-to-get-setup-in-rmarkdown"><i class="fa fa-check"></i><b>1.5.1</b> How to get setup in RMarkdown</a></li>
<li class="chapter" data-level="1.5.2" data-path="r-markdown.html"><a href="r-markdown.html#additional-rmarkdown-resources"><i class="fa fa-check"></i><b>1.5.2</b> Additional RMarkdown resources</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="wait-a-second-why-r.html"><a href="wait-a-second-why-r.html"><i class="fa fa-check"></i><b>1.6</b> Wait a second why R?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="description.html"><a href="description.html"><i class="fa fa-check"></i><b>2</b> Description</a>
<ul>
<li class="chapter" data-level="2.1" data-path="process-of-describing.html"><a href="process-of-describing.html"><i class="fa fa-check"></i><b>2.1</b> Process of Describing</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="process-of-describing.html"><a href="process-of-describing.html#example-process"><i class="fa fa-check"></i><b>2.1.1</b> Example Process</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="summarizing-univariate-data.html"><a href="summarizing-univariate-data.html"><i class="fa fa-check"></i><b>2.2</b> Summarizing univariate data</a></li>
<li class="chapter" data-level="2.3" data-path="functions-to-summarize-univariate-data.html"><a href="functions-to-summarize-univariate-data.html"><i class="fa fa-check"></i><b>2.3</b> Functions to summarize univariate data</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="functions-to-summarize-univariate-data.html"><a href="functions-to-summarize-univariate-data.html#using-functions-in-r-overview"><i class="fa fa-check"></i><b>2.3.1</b> Using functions in R (overview)</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html"><i class="fa fa-check"></i><b>2.4</b> Loading data into R</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#working-with-datasets-in-r"><i class="fa fa-check"></i><b>2.4.1</b> Working with datasets in R</a></li>
<li class="chapter" data-level="2.4.2" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#measuring-the-turnout-in-the-us-elections"><i class="fa fa-check"></i><b>2.4.2</b> Measuring the Turnout in the US Elections</a></li>
<li class="chapter" data-level="2.4.3" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#getting-to-know-your-data"><i class="fa fa-check"></i><b>2.4.3</b> Getting to know your data</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="comparing-vep-and-vap-turnout.html"><a href="comparing-vep-and-vap-turnout.html"><i class="fa fa-check"></i><b>2.5</b> Comparing VEP and VAP turnout</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="comparing-vep-and-vap-turnout.html"><a href="comparing-vep-and-vap-turnout.html#creating-new-variables-in-r"><i class="fa fa-check"></i><b>2.5.1</b> Creating new variables in R</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="comparing-presidential-vs.-midterm-turnout.html"><a href="comparing-presidential-vs.-midterm-turnout.html"><i class="fa fa-check"></i><b>2.6</b> Comparing Presidential vs. Midterm turnout</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="comparing-presidential-vs.-midterm-turnout.html"><a href="comparing-presidential-vs.-midterm-turnout.html#r-shortcut-for-writing-vectors"><i class="fa fa-check"></i><b>2.6.1</b> R shortcut for writing vectors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="causation1.html"><a href="causation1.html"><i class="fa fa-check"></i><b>3</b> Causation with Experiments</a>
<ul>
<li class="chapter" data-level="3.1" data-path="what-separates-causation-from-correlation.html"><a href="what-separates-causation-from-correlation.html"><i class="fa fa-check"></i><b>3.1</b> What separates causation from correlation?</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="what-separates-causation-from-correlation.html"><a href="what-separates-causation-from-correlation.html#potential-outcomes-framework"><i class="fa fa-check"></i><b>3.1.1</b> Potential Outcomes Framework</a></li>
<li class="chapter" data-level="3.1.2" data-path="what-separates-causation-from-correlation.html"><a href="what-separates-causation-from-correlation.html#causal-effects"><i class="fa fa-check"></i><b>3.1.2</b> Causal Effects</a></li>
<li class="chapter" data-level="3.1.3" data-path="what-separates-causation-from-correlation.html"><a href="what-separates-causation-from-correlation.html#fundamental-problem-of-causal-inference"><i class="fa fa-check"></i><b>3.1.3</b> Fundamental Problem of Causal Inference</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="randomized-controlled-trials.html"><a href="randomized-controlled-trials.html"><i class="fa fa-check"></i><b>3.2</b> Randomized Controlled Trials</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="randomized-controlled-trials.html"><a href="randomized-controlled-trials.html#experiments-why-randomize"><i class="fa fa-check"></i><b>3.2.1</b> Experiments: Why Randomize?</a></li>
<li class="chapter" data-level="3.2.2" data-path="randomized-controlled-trials.html"><a href="randomized-controlled-trials.html#experiments-how-to-analyze"><i class="fa fa-check"></i><b>3.2.2</b> Experiments: How to Analyze</a></li>
<li class="chapter" data-level="3.2.3" data-path="randomized-controlled-trials.html"><a href="randomized-controlled-trials.html#ingredients-of-an-experiment"><i class="fa fa-check"></i><b>3.2.3</b> Ingredients of an Experiment</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="application-is-there-racial-discrimination-in-the-labor-market.html"><a href="application-is-there-racial-discrimination-in-the-labor-market.html"><i class="fa fa-check"></i><b>3.3</b> Application: Is there racial discrimination in the labor market?</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="application-is-there-racial-discrimination-in-the-labor-market.html"><a href="application-is-there-racial-discrimination-in-the-labor-market.html#variable-classes"><i class="fa fa-check"></i><b>3.3.1</b> Variable classes</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="making-tables.html"><a href="making-tables.html"><i class="fa fa-check"></i><b>3.4</b> Making tables</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="making-tables.html"><a href="making-tables.html#crosstabulation"><i class="fa fa-check"></i><b>3.4.1</b> Crosstabulation</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="conditional-means.html"><a href="conditional-means.html"><i class="fa fa-check"></i><b>3.5</b> Conditional Means</a></li>
<li class="chapter" data-level="3.6" data-path="relational-operators-in-r.html"><a href="relational-operators-in-r.html"><i class="fa fa-check"></i><b>3.6</b> Relational Operators in R</a></li>
<li class="chapter" data-level="3.7" data-path="subsetting-data-in-r.html"><a href="subsetting-data-in-r.html"><i class="fa fa-check"></i><b>3.7</b> Subsetting data in R</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="subsetting-data-in-r.html"><a href="subsetting-data-in-r.html#getting-booooooooolean"><i class="fa fa-check"></i><b>3.7.1</b> Getting Booooooooolean</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="creating-new-variables-using-conditional-statements.html"><a href="creating-new-variables-using-conditional-statements.html"><i class="fa fa-check"></i><b>3.8</b> Creating New Variables using Conditional statements</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="creating-new-variables-using-conditional-statements.html"><a href="creating-new-variables-using-conditional-statements.html#ifelse-statements"><i class="fa fa-check"></i><b>3.8.1</b> ifelse statements</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="types-of-experiments.html"><a href="types-of-experiments.html"><i class="fa fa-check"></i><b>3.9</b> Types of Experiments</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>4</b> Visualization</a>
<ul>
<li class="chapter" data-level="4.1" data-path="application-social-status-and-economic-views.html"><a href="application-social-status-and-economic-views.html"><i class="fa fa-check"></i><b>4.1</b> Application: Social Status and Economic Views</a></li>
<li class="chapter" data-level="4.2" data-path="boxplots.html"><a href="boxplots.html"><i class="fa fa-check"></i><b>4.2</b> Boxplots</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="boxplots.html"><a href="boxplots.html#data-summary-boxplot"><i class="fa fa-check"></i><b>4.2.1</b> Data Summary: Boxplot</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="barplots.html"><a href="barplots.html"><i class="fa fa-check"></i><b>4.3</b> Barplots</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="barplots.html"><a href="barplots.html#saving-plots"><i class="fa fa-check"></i><b>4.3.1</b> Saving Plots</a></li>
<li class="chapter" data-level="4.3.2" data-path="barplots.html"><a href="barplots.html#creating-new-variables"><i class="fa fa-check"></i><b>4.3.2</b> Creating New Variables</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="application-changing-minds-on-gay-marriage.html"><a href="application-changing-minds-on-gay-marriage.html"><i class="fa fa-check"></i><b>4.4</b> Application: Changing Minds on Gay Marriage</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="application-changing-minds-on-gay-marriage.html"><a href="application-changing-minds-on-gay-marriage.html#creating-new-variable"><i class="fa fa-check"></i><b>4.4.1</b> Creating new variable</a></li>
<li class="chapter" data-level="4.4.2" data-path="application-changing-minds-on-gay-marriage.html"><a href="application-changing-minds-on-gay-marriage.html#using-ifelse-to-create-new-variable"><i class="fa fa-check"></i><b>4.4.2</b> Using ifelse to create new variable</a></li>
<li class="chapter" data-level="4.4.3" data-path="application-changing-minds-on-gay-marriage.html"><a href="application-changing-minds-on-gay-marriage.html#calculating-the-average-treatment-effect"><i class="fa fa-check"></i><b>4.4.3</b> Calculating the Average Treatment Effect</a></li>
<li class="chapter" data-level="4.4.4" data-path="application-changing-minds-on-gay-marriage.html"><a href="application-changing-minds-on-gay-marriage.html#visualize-means-in-a-barplot"><i class="fa fa-check"></i><b>4.4.4</b> Visualize means in a barplot</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="scatterplots.html"><a href="scatterplots.html"><i class="fa fa-check"></i><b>4.5</b> Scatterplots</a></li>
<li class="chapter" data-level="4.6" data-path="histograms.html"><a href="histograms.html"><i class="fa fa-check"></i><b>4.6</b> Histograms</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="histograms.html"><a href="histograms.html#happy-research-ending"><i class="fa fa-check"></i><b>4.6.1</b> Happy research ending</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="application-trends-during-covid.html"><a href="application-trends-during-covid.html"><i class="fa fa-check"></i><b>4.7</b> Application: Trends during COVID</a></li>
<li class="chapter" data-level="4.8" data-path="line-plots-in-r.html"><a href="line-plots-in-r.html"><i class="fa fa-check"></i><b>4.8</b> Line Plots in R</a></li>
<li class="chapter" data-level="4.9" data-path="causal-claims-from-before-vs.-after-comparisons.html"><a href="causal-claims-from-before-vs.-after-comparisons.html"><i class="fa fa-check"></i><b>4.9</b> Causal claims from before vs. after comparisons</a></li>
<li class="chapter" data-level="4.10" data-path="visual-tips-and-tricks.html"><a href="visual-tips-and-tricks.html"><i class="fa fa-check"></i><b>4.10</b> Visual tips and tricks</a></li>
<li class="chapter" data-level="4.11" data-path="common-r-plotting-functions-and-arguments.html"><a href="common-r-plotting-functions-and-arguments.html"><i class="fa fa-check"></i><b>4.11</b> Common R plotting functions and arguments</a></li>
<li class="chapter" data-level="4.12" data-path="a-note-on-ggplot.html"><a href="a-note-on-ggplot.html"><i class="fa fa-check"></i><b>4.12</b> A note on <code>ggplot</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="causalityii.html"><a href="causalityii.html"><i class="fa fa-check"></i><b>5</b> Causality with Non-Experimental Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="why-cant-we-always-experiment.html"><a href="why-cant-we-always-experiment.html"><i class="fa fa-check"></i><b>5.1</b> Why can’t we always experiment?</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="why-cant-we-always-experiment.html"><a href="why-cant-we-always-experiment.html#what-can-we-do-instead"><i class="fa fa-check"></i><b>5.1.1</b> What can we do instead?</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="causal-identification-strategies.html"><a href="causal-identification-strategies.html"><i class="fa fa-check"></i><b>5.2</b> Causal Identification Strategies</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="causal-identification-strategies.html"><a href="causal-identification-strategies.html#three-common-identification-strategies"><i class="fa fa-check"></i><b>5.2.1</b> Three Common Identification Strategies</a></li>
<li class="chapter" data-level="5.2.2" data-path="causal-identification-strategies.html"><a href="causal-identification-strategies.html#threats-to-cross-section-designs"><i class="fa fa-check"></i><b>5.2.2</b> Threats to Cross-Section Designs</a></li>
<li class="chapter" data-level="5.2.3" data-path="causal-identification-strategies.html"><a href="causal-identification-strategies.html#threats-to-before-after-designs"><i class="fa fa-check"></i><b>5.2.3</b> Threats to Before-After Designs</a></li>
<li class="chapter" data-level="5.2.4" data-path="causal-identification-strategies.html"><a href="causal-identification-strategies.html#threats-to-diff-in-diff-designs"><i class="fa fa-check"></i><b>5.2.4</b> Threats to Diff-in-Diff Designs</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="application-economic-effects-of-basque-terrorism.html"><a href="application-economic-effects-of-basque-terrorism.html"><i class="fa fa-check"></i><b>5.3</b> Application: Economic Effects of Basque Terrorism</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="application-economic-effects-of-basque-terrorism.html"><a href="application-economic-effects-of-basque-terrorism.html#applying-3-identification-strategies"><i class="fa fa-check"></i><b>5.3.1</b> Applying 3 Identification Strategies</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="placebo-tests.html"><a href="placebo-tests.html"><i class="fa fa-check"></i><b>5.4</b> Placebo Tests</a></li>
<li class="chapter" data-level="5.5" data-path="wrapping-up-causality.html"><a href="wrapping-up-causality.html"><i class="fa fa-check"></i><b>5.5</b> Wrapping Up Causality</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>6</b> Loops in R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="the-anatomy-of-a-loop.html"><a href="the-anatomy-of-a-loop.html"><i class="fa fa-check"></i><b>6.1</b> The anatomy of a loop</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="the-anatomy-of-a-loop.html"><a href="the-anatomy-of-a-loop.html#the-key-parts-of-a-loop"><i class="fa fa-check"></i><b>6.1.1</b> The key parts of a loop</a></li>
<li class="chapter" data-level="6.1.2" data-path="the-anatomy-of-a-loop.html"><a href="the-anatomy-of-a-loop.html#a-short-example"><i class="fa fa-check"></i><b>6.1.2</b> A short example</a></li>
<li class="chapter" data-level="6.1.3" data-path="the-anatomy-of-a-loop.html"><a href="the-anatomy-of-a-loop.html#troubleshooting-a-loop"><i class="fa fa-check"></i><b>6.1.3</b> Troubleshooting a loop</a></li>
<li class="chapter" data-level="6.1.4" data-path="the-anatomy-of-a-loop.html"><a href="the-anatomy-of-a-loop.html#your-turn"><i class="fa fa-check"></i><b>6.1.4</b> Your turn</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="application-u.s.-supreme-court.html"><a href="application-u.s.-supreme-court.html"><i class="fa fa-check"></i><b>6.2</b> Application: U.S. Supreme Court</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="application-u.s.-supreme-court.html"><a href="application-u.s.-supreme-court.html#troubleshooting-the-loop"><i class="fa fa-check"></i><b>6.2.1</b> Troubleshooting the loop</a></li>
<li class="chapter" data-level="6.2.2" data-path="application-u.s.-supreme-court.html"><a href="application-u.s.-supreme-court.html#visualizing-the-results"><i class="fa fa-check"></i><b>6.2.2</b> Visualizing the Results</a></li>
<li class="chapter" data-level="6.2.3" data-path="application-u.s.-supreme-court.html"><a href="application-u.s.-supreme-court.html#enhancing-the-plot"><i class="fa fa-check"></i><b>6.2.3</b> Enhancing the plot</a></li>
<li class="chapter" data-level="6.2.4" data-path="application-u.s.-supreme-court.html"><a href="application-u.s.-supreme-court.html#wrapping-up"><i class="fa fa-check"></i><b>6.2.4</b> Wrapping Up</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="prediction.html"><a href="prediction.html"><i class="fa fa-check"></i><b>7</b> Prediction</a>
<ul>
<li class="chapter" data-level="7.1" data-path="prediction-overview.html"><a href="prediction-overview.html"><i class="fa fa-check"></i><b>7.1</b> Prediction Overview</a></li>
<li class="chapter" data-level="7.2" data-path="process-of-prediction.html"><a href="process-of-prediction.html"><i class="fa fa-check"></i><b>7.2</b> Process of Prediction</a></li>
<li class="chapter" data-level="7.3" data-path="example-forecasting-2020-us-election-based-on-2016-results.html"><a href="example-forecasting-2020-us-election-based-on-2016-results.html"><i class="fa fa-check"></i><b>7.3</b> Example: Forecasting 2020 US Election based on 2016 Results</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="example-forecasting-2020-us-election-based-on-2016-results.html"><a href="example-forecasting-2020-us-election-based-on-2016-results.html#choose-approach"><i class="fa fa-check"></i><b>7.3.1</b> Choose Approach</a></li>
<li class="chapter" data-level="7.3.2" data-path="example-forecasting-2020-us-election-based-on-2016-results.html"><a href="example-forecasting-2020-us-election-based-on-2016-results.html#assess-accuracy"><i class="fa fa-check"></i><b>7.3.2</b> Assess Accuracy</a></li>
<li class="chapter" data-level="7.3.3" data-path="example-forecasting-2020-us-election-based-on-2016-results.html"><a href="example-forecasting-2020-us-election-based-on-2016-results.html#iterate-to-improve-predictions"><i class="fa fa-check"></i><b>7.3.3</b> Iterate to improve predictions</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="example-using-polls-to-predict-the-2020-election-results.html"><a href="example-using-polls-to-predict-the-2020-election-results.html"><i class="fa fa-check"></i><b>7.4</b> Example: Using polls to predict the 2020 election results</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="example-using-polls-to-predict-the-2020-election-results.html"><a href="example-using-polls-to-predict-the-2020-election-results.html#choose-an-approach-lets-analyze-some-polls"><i class="fa fa-check"></i><b>7.4.1</b> Choose an approach: Let’s analyze some polls</a></li>
<li class="chapter" data-level="7.4.2" data-path="example-using-polls-to-predict-the-2020-election-results.html"><a href="example-using-polls-to-predict-the-2020-election-results.html#loop-through-all-states"><i class="fa fa-check"></i><b>7.4.2</b> Loop through all states</a></li>
<li class="chapter" data-level="7.4.3" data-path="example-using-polls-to-predict-the-2020-election-results.html"><a href="example-using-polls-to-predict-the-2020-election-results.html#check-accuracy"><i class="fa fa-check"></i><b>7.4.3</b> Check Accuracy</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>8</b> Prediction with Regression</a>
<ul>
<li class="chapter" data-level="8.1" data-path="regression-in-the-wild..html"><a href="regression-in-the-wild..html"><i class="fa fa-check"></i><b>8.1</b> Regression in the wild.</a></li>
<li class="chapter" data-level="8.2" data-path="application-baseball-predictions.html"><a href="application-baseball-predictions.html"><i class="fa fa-check"></i><b>8.2</b> Application: Baseball Predictions</a></li>
<li class="chapter" data-level="8.3" data-path="step-1-approach--regression-in-r.html"><a href="step-1-approach--regression-in-r.html"><i class="fa fa-check"></i><b>8.3</b> Step 1: Approach- Regression in R</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="step-1-approach--regression-in-r.html"><a href="step-1-approach--regression-in-r.html#visualizing-a-regression"><i class="fa fa-check"></i><b>8.3.1</b> Visualizing a regression</a></li>
<li class="chapter" data-level="8.3.2" data-path="step-1-approach--regression-in-r.html"><a href="step-1-approach--regression-in-r.html#making-predictions-with-regression"><i class="fa fa-check"></i><b>8.3.2</b> Making predictions with regression</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="step-2-checking-accuracy-of-model.html"><a href="step-2-checking-accuracy-of-model.html"><i class="fa fa-check"></i><b>8.4</b> Step 2: Checking accuracy of model</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="step-2-checking-accuracy-of-model.html"><a href="step-2-checking-accuracy-of-model.html#root-mean-squared-error"><i class="fa fa-check"></i><b>8.4.1</b> Root Mean Squared Error</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="step-3-iterate-and-compare-models.html"><a href="step-3-iterate-and-compare-models.html"><i class="fa fa-check"></i><b>8.5</b> Step 3: Iterate and Compare Models</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="step-3-iterate-and-compare-models.html"><a href="step-3-iterate-and-compare-models.html#regression-with-multiple-predictors"><i class="fa fa-check"></i><b>8.5.1</b> Regression with Multiple Predictors</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="application-predicting-campaign-donations.html"><a href="application-predicting-campaign-donations.html"><i class="fa fa-check"></i><b>8.6</b> Application: Predicting Campaign Donations</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="application-predicting-campaign-donations.html"><a href="application-predicting-campaign-donations.html#visualizing-the-results-1"><i class="fa fa-check"></i><b>8.6.1</b> Visualizing the results</a></li>
<li class="chapter" data-level="8.6.2" data-path="application-predicting-campaign-donations.html"><a href="application-predicting-campaign-donations.html#step-1-calculate-predictions"><i class="fa fa-check"></i><b>8.6.2</b> Step 1: Calculate Predictions</a></li>
<li class="chapter" data-level="8.6.3" data-path="application-predicting-campaign-donations.html"><a href="application-predicting-campaign-donations.html#step-2-check-accuracy"><i class="fa fa-check"></i><b>8.6.3</b> Step 2: Check Accuracy</a></li>
<li class="chapter" data-level="8.6.4" data-path="application-predicting-campaign-donations.html"><a href="application-predicting-campaign-donations.html#step-3-iterate"><i class="fa fa-check"></i><b>8.6.4</b> Step 3: Iterate</a></li>
<li class="chapter" data-level="8.6.5" data-path="application-predicting-campaign-donations.html"><a href="application-predicting-campaign-donations.html#adding-model-predictors"><i class="fa fa-check"></i><b>8.6.5</b> Adding Model Predictors</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="uncertainty-with-prediction.html"><a href="uncertainty-with-prediction.html"><i class="fa fa-check"></i><b>8.7</b> Uncertainty with Prediction</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="uncertainty-with-prediction.html"><a href="uncertainty-with-prediction.html#example-butterfly-ballot-in-florida"><i class="fa fa-check"></i><b>8.7.1</b> Example: Butterfly Ballot in Florida</a></li>
<li class="chapter" data-level="8.7.2" data-path="uncertainty-with-prediction.html"><a href="uncertainty-with-prediction.html#multiple-predictors"><i class="fa fa-check"></i><b>8.7.2</b> Multiple Predictors</a></li>
<li class="chapter" data-level="8.7.3" data-path="uncertainty-with-prediction.html"><a href="uncertainty-with-prediction.html#confidence-intervals"><i class="fa fa-check"></i><b>8.7.3</b> Confidence Intervals</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="cross-validation.html"><a href="cross-validation.html"><i class="fa fa-check"></i><b>8.8</b> Cross-Validation</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="cross-validation.html"><a href="cross-validation.html#cross-validation-process"><i class="fa fa-check"></i><b>8.8.1</b> Cross-Validation Process</a></li>
<li class="chapter" data-level="8.8.2" data-path="cross-validation.html"><a href="cross-validation.html#application-forecasting-election-results"><i class="fa fa-check"></i><b>8.8.2</b> Application: Forecasting Election Results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="fairness.html"><a href="fairness.html"><i class="fa fa-check"></i><b>9</b> Fairness and Ethics</a>
<ul>
<li class="chapter" data-level="9.1" data-path="application-criminal-justice.html"><a href="application-criminal-justice.html"><i class="fa fa-check"></i><b>9.1</b> Application: Criminal Justice</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="application-criminal-justice.html"><a href="application-criminal-justice.html#load-data"><i class="fa fa-check"></i><b>9.1.1</b> Load data</a></li>
<li class="chapter" data-level="9.1.2" data-path="application-criminal-justice.html"><a href="application-criminal-justice.html#predictionclassification-process"><i class="fa fa-check"></i><b>9.1.2</b> Prediction/Classification process</a></li>
<li class="chapter" data-level="9.1.3" data-path="application-criminal-justice.html"><a href="application-criminal-justice.html#step-1-regression-model"><i class="fa fa-check"></i><b>9.1.3</b> Step 1: Regression Model</a></li>
<li class="chapter" data-level="9.1.4" data-path="application-criminal-justice.html"><a href="application-criminal-justice.html#step-2-check-accuracy-1"><i class="fa fa-check"></i><b>9.1.4</b> Step 2: Check Accuracy</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="taking-fairness-seriously.html"><a href="taking-fairness-seriously.html"><i class="fa fa-check"></i><b>9.2</b> Taking Fairness Seriously</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="taking-fairness-seriously.html"><a href="taking-fairness-seriously.html#extended-learning"><i class="fa fa-check"></i><b>9.2.1</b> Extended Learning</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="uncertainty.html"><a href="uncertainty.html"><i class="fa fa-check"></i><b>10</b> Uncertainty</a>
<ul>
<li class="chapter" data-level="10.1" data-path="hypothesis-testing-overview-of-process.html"><a href="hypothesis-testing-overview-of-process.html"><i class="fa fa-check"></i><b>10.1</b> Hypothesis Testing Overview of Process</a></li>
<li class="chapter" data-level="10.2" data-path="sampling-and-uncertainty.html"><a href="sampling-and-uncertainty.html"><i class="fa fa-check"></i><b>10.2</b> Sampling and Uncertainty</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="sampling-and-uncertainty.html"><a href="sampling-and-uncertainty.html#sampling-distribution"><i class="fa fa-check"></i><b>10.2.1</b> Sampling Distribution</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="z-scores-and-p-values.html"><a href="z-scores-and-p-values.html"><i class="fa fa-check"></i><b>10.3</b> Z-scores and p-values</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="z-scores-and-p-values.html"><a href="z-scores-and-p-values.html#relationship-to-confidence-intervals"><i class="fa fa-check"></i><b>10.3.1</b> Relationship to Confidence Intervals</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="wrapping-up-the-process.html"><a href="wrapping-up-the-process.html"><i class="fa fa-check"></i><b>10.4</b> Wrapping up the Process</a></li>
<li class="chapter" data-level="10.5" data-path="application-health-savings-study.html"><a href="application-health-savings-study.html"><i class="fa fa-check"></i><b>10.5</b> Application: Health Savings Study</a></li>
<li class="chapter" data-level="10.6" data-path="additional-applications.html"><a href="additional-applications.html"><i class="fa fa-check"></i><b>10.6</b> Additional Applications</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="additional-applications.html"><a href="additional-applications.html#example-using-regression"><i class="fa fa-check"></i><b>10.6.1</b> Example Using Regression</a></li>
<li class="chapter" data-level="10.6.2" data-path="additional-applications.html"><a href="additional-applications.html#example-using-prop.test"><i class="fa fa-check"></i><b>10.6.2</b> Example Using prop.test()</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="in-class-exercise-questions.html"><a href="in-class-exercise-questions.html"><i class="fa fa-check"></i><b>10.7</b> In-Class Exercise Questions</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="text.html"><a href="text.html"><i class="fa fa-check"></i><b>11</b> Text as Data</a>
<ul>
<li class="chapter" data-level="11.1" data-path="why-text.html"><a href="why-text.html"><i class="fa fa-check"></i><b>11.1</b> Why text?</a></li>
<li class="chapter" data-level="11.2" data-path="r-packages-for-text.html"><a href="r-packages-for-text.html"><i class="fa fa-check"></i><b>11.2</b> R Packages for text</a></li>
<li class="chapter" data-level="11.3" data-path="application-state-of-the-union.html"><a href="application-state-of-the-union.html"><i class="fa fa-check"></i><b>11.3</b> Application: State of the Union</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="application-state-of-the-union.html"><a href="application-state-of-the-union.html#cleaning-text"><i class="fa fa-check"></i><b>11.3.1</b> Cleaning Text</a></li>
<li class="chapter" data-level="11.3.2" data-path="application-state-of-the-union.html"><a href="application-state-of-the-union.html#preparing-a-corpus"><i class="fa fa-check"></i><b>11.3.2</b> Preparing a Corpus</a></li>
<li class="chapter" data-level="11.3.3" data-path="application-state-of-the-union.html"><a href="application-state-of-the-union.html#word-frequency"><i class="fa fa-check"></i><b>11.3.3</b> Word Frequency</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="word-importance.html"><a href="word-importance.html"><i class="fa fa-check"></i><b>11.4</b> Word Importance</a></li>
<li class="chapter" data-level="11.5" data-path="additional-descriptive-statistics.html"><a href="additional-descriptive-statistics.html"><i class="fa fa-check"></i><b>11.5</b> Additional Descriptive Statistics</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="additional-descriptive-statistics.html"><a href="additional-descriptive-statistics.html#dictionary-analysis"><i class="fa fa-check"></i><b>11.5.1</b> Dictionary Analysis</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="application-programming-interfaces.html"><a href="application-programming-interfaces.html"><i class="fa fa-check"></i><b>11.6</b> Application Programming Interfaces</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="application-programming-interfaces.html"><a href="application-programming-interfaces.html#twitter-api-v1"><i class="fa fa-check"></i><b>11.6.1</b> Twitter API v1</a></li>
<li class="chapter" data-level="11.6.2" data-path="application-programming-interfaces.html"><a href="application-programming-interfaces.html#saving-r-objects"><i class="fa fa-check"></i><b>11.6.2</b> Saving R Objects</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="application-sentiment-analysis.html"><a href="application-sentiment-analysis.html"><i class="fa fa-check"></i><b>11.7</b> Application: Sentiment Analysis</a>
<ul>
<li class="chapter" data-level="11.7.1" data-path="application-sentiment-analysis.html"><a href="application-sentiment-analysis.html#searching-tweets-for-keywords"><i class="fa fa-check"></i><b>11.7.1</b> Searching tweets for keywords</a></li>
<li class="chapter" data-level="11.7.2" data-path="application-sentiment-analysis.html"><a href="application-sentiment-analysis.html#sentiment-analysis-overview"><i class="fa fa-check"></i><b>11.7.2</b> Sentiment Analysis Overview</a></li>
<li class="chapter" data-level="11.7.3" data-path="application-sentiment-analysis.html"><a href="application-sentiment-analysis.html#implementing-sentiment-analysis"><i class="fa fa-check"></i><b>11.7.3</b> Implementing sentiment analysis</a></li>
<li class="chapter" data-level="11.7.4" data-path="application-sentiment-analysis.html"><a href="application-sentiment-analysis.html#your-twitter-analysis"><i class="fa fa-check"></i><b>11.7.4</b> Your Twitter Analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="maps.html"><a href="maps.html"><i class="fa fa-check"></i><b>12</b> Mapping</a>
<ul>
<li class="chapter" data-level="12.1" data-path="why-maps.html"><a href="why-maps.html"><i class="fa fa-check"></i><b>12.1</b> Why maps</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="why-maps.html"><a href="why-maps.html#to-map-or-not-to-map"><i class="fa fa-check"></i><b>12.1.1</b> To map or not to map?</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="mapping-in-r.html"><a href="mapping-in-r.html"><i class="fa fa-check"></i><b>12.2</b> Mapping in R</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="mapping-in-r.html"><a href="mapping-in-r.html#using-ggplot2-with-maps"><i class="fa fa-check"></i><b>12.2.1</b> Using ggplot2 with maps</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="choropleth-maps.html"><a href="choropleth-maps.html"><i class="fa fa-check"></i><b>12.3</b> Choropleth Maps</a></li>
<li class="chapter" data-level="12.4" data-path="application-2021-nj-election-results.html"><a href="application-2021-nj-election-results.html"><i class="fa fa-check"></i><b>12.4</b> Application: 2021 NJ Election Results</a></li>
<li class="chapter" data-level="12.5" data-path="application-voter-identification-laws.html"><a href="application-voter-identification-laws.html"><i class="fa fa-check"></i><b>12.5</b> Application: Voter Identification Laws</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="application-voter-identification-laws.html"><a href="application-voter-identification-laws.html#using-the-in-function"><i class="fa fa-check"></i><b>12.5.1</b> Using the <code>%in%</code> function</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="your-turn-to-map.html"><a href="your-turn-to-map.html"><i class="fa fa-check"></i><b>12.6</b> Your turn to map</a></li>
<li class="chapter" data-level="12.7" data-path="application-terrorist-attacks-in-france.html"><a href="application-terrorist-attacks-in-france.html"><i class="fa fa-check"></i><b>12.7</b> Application: Terrorist Attacks in France</a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="application-terrorist-attacks-in-france.html"><a href="application-terrorist-attacks-in-france.html#adding-points-to-a-map"><i class="fa fa-check"></i><b>12.7.1</b> Adding points to a map</a></li>
</ul></li>
<li class="chapter" data-level="12.8" data-path="animating-data.html"><a href="animating-data.html"><i class="fa fa-check"></i><b>12.8</b> Animating Data</a></li>
<li class="chapter" data-level="12.9" data-path="application-spread-of-coronavirus.html"><a href="application-spread-of-coronavirus.html"><i class="fa fa-check"></i><b>12.9</b> Application: Spread of Coronavirus</a>
<ul>
<li class="chapter" data-level="12.9.1" data-path="application-spread-of-coronavirus.html"><a href="application-spread-of-coronavirus.html#mapping-animation-with-world-map"><i class="fa fa-check"></i><b>12.9.1</b> Mapping Animation with World Map</a></li>
</ul></li>
<li class="chapter" data-level="12.10" data-path="application-territorial-control-of-syria.html"><a href="application-territorial-control-of-syria.html"><i class="fa fa-check"></i><b>12.10</b> Application: Territorial Control of Syria</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science for Political Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cross-validation" class="section level2" number="8.8">
<h2><span class="header-section-number">8.8</span> Cross-Validation</h2>
<p>So far, we’ve been “cheating.” We’ve been analyzing a prediction in cases where we know the right answer. Now we will focus more squarely on how to develop an “out-of-sample” prediction.</p>
<p>Problem: Models that fit our existing (“in-sample”) data might not be the best for predicting out-of-sample data.</p>
<p>Example: Compare regression line with vs. without Palm Beach included in the sample.</p>
<ul>
<li>Outliers “in-sample” can lead to overfitting to weird, idiosyncratic data points</li>
</ul>
<p><img src="images/overfit.png" /></p>
<p>Example: Error Rates in Speech Recognition. See study <a href="https://news.stanford.edu/2020/03/23/automated-speech-recognition-less-accurate-blacks/">here</a></p>
<ul>
<li>Predictions/Classification that works well for one group might not work well for all groups</li>
</ul>
<p><img src="images/speecherrors.png" /></p>
<p>Problem: Models that fit our existing (“in-sample”) data might not be the best for predicting out-of-sample data. Approaches to diagnose the problem or help address it:</p>
<ul>
<li>Detect potential outliers within existing data by exploring the prediction errors</li>
<li>Make sure the training (in-sample) data is as representative as possible</li>
<li>Incorporate out-of-sample testing in prediction process</li>
</ul>
<div id="cross-validation-process" class="section level3" number="8.8.1">
<h3><span class="header-section-number">8.8.1</span> Cross-Validation Process</h3>
<p>Cross-validation incorporates the idea of out-of-sample testing into the process of how we evaluate the accuracy of prediction and classification approaches.</p>
<p>Cross-validation (train vs. test data)</p>
<ol style="list-style-type: decimal">
<li>Subset your data into two portions: Training and Test data.</li>
<li>Run a model based on the training data.</li>
<li>Make a prediction and test the accuracy on the test data.</li>
<li>Repeat process training and testing on different portions of the data.</li>
<li>Summarize the results and choose a preferred model
<ul>
<li>Eventually: Apply this model to entirely new data</li>
</ul></li>
</ol>
<p>Goal: Test accuracy in a way that can help detect overfitting. See how well our model will generalize to new data (data the model hasn’t seen).</p>
</div>
<div id="application-forecasting-election-results" class="section level3" number="8.8.2">
<h3><span class="header-section-number">8.8.2</span> Application: Forecasting Election Results</h3>
<p>Macro political and economic fundamentals are sometimes used for early forecasting of an election. We will build a version of this model and test its accuracy using a process of “Leave-one-out” cross-validation.</p>
<p>Below is a video explainer of this application, which uses cross-validation.</p>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/Wqj9Jm8heAA" width="533" height="300" frameborder="0" allowfullscreen=""></iframe>
</div>
</div>
<p>The data and model are based on the <a href="Based%20on%20the%20FAIR%20model%20for%20forecasting%20elections%20\url%7Bhttps://fairmodel.econ.yale.edu/vote2016/computev.htm%7D">FAIR model</a> of forecasting.</p>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb408-1"><a href="cross-validation.html#cb408-1" aria-hidden="true" tabindex="-1"></a>fair <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;fair.csv&quot;</span>)</span></code></pre></div>
<p>Key Variables:</p>
<ul>
<li><code>VP</code>: Democratic share of the two-party presidential vote</li>
<li><code>t</code>: Year (presidential years only)</li>
<li><code>G</code>: growth rate of real per capita GDP in the first 3 quarters</li>
<li><code>P</code>: growth rate of the GDP deflator in the first 15 quarters of the recent administration</li>
<li><code>Z</code>: number of quarters in the first 15 quarters of recent administration in which the growth rate of real per capita GDP is greater than 3.2 percent at an annual rate</li>
<li><code>I</code>: 1 if Democrats in WH and -1 if Republicans in WH</li>
<li><code>WAR</code>: 1 if 1920, 1944, 1948 (denoting the ``WAR” elections, which are believed to be particular)</li>
<li><code>DUR</code>: indicating how many consecutive terms Democrats/Republicans have been office (e.g., in 2020 it will be 0 because Republicans will have been in office for only 1 term.)</li>
</ul>
<p>Let’s propose a model</p>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb409-1"><a href="cross-validation.html#cb409-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(VP <span class="sc">~</span> DUR, <span class="at">data =</span> fair)</span></code></pre></div>
<p>Let’s propose an alternative model and see which one we think is better.</p>
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb410-1"><a href="cross-validation.html#cb410-1" aria-hidden="true" tabindex="-1"></a>fit2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(VP <span class="sc">~</span> G<span class="sc">*</span>I <span class="sc">+</span>  DUR, <span class="at">data =</span> fair)</span></code></pre></div>
<p>Note: The asterisk represents an “interaction.” See QSS Chapter 4. We use this when we think the effect of one variable (growth) may depend on the values of another variable (the party of who is in office).</p>
<div id="steps-1-and-2" class="section level4" number="8.8.2.1">
<h4><span class="header-section-number">8.8.2.1</span> Steps 1 and 2</h4>
<p>We are going to run a model where each time we `leave out’ one row of data (in our case, one election). Let’s try this once:</p>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb411-1"><a href="cross-validation.html#cb411-1" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> fair<span class="sc">$</span>t</span>
<span id="cb411-2"><a href="cross-validation.html#cb411-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb411-3"><a href="cross-validation.html#cb411-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 1: Subset data into two portions</span></span>
<span id="cb411-4"><a href="cross-validation.html#cb411-4" aria-hidden="true" tabindex="-1"></a>traindata <span class="ot">&lt;-</span> <span class="fu">subset</span>(fair, t <span class="sc">!=</span> years[<span class="dv">1</span>])</span>
<span id="cb411-5"><a href="cross-validation.html#cb411-5" aria-hidden="true" tabindex="-1"></a>testdata <span class="ot">&lt;-</span> <span class="fu">subset</span>(fair, t <span class="sc">==</span> years[<span class="dv">1</span>])</span>
<span id="cb411-6"><a href="cross-validation.html#cb411-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb411-7"><a href="cross-validation.html#cb411-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 2: Run model on training data</span></span>
<span id="cb411-8"><a href="cross-validation.html#cb411-8" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(VP <span class="sc">~</span> DUR, <span class="at">data =</span> traindata)</span>
<span id="cb411-9"><a href="cross-validation.html#cb411-9" aria-hidden="true" tabindex="-1"></a>fit2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(VP <span class="sc">~</span>  G<span class="sc">*</span>I <span class="sc">+</span>  DUR, <span class="at">data =</span> traindata)</span></code></pre></div>
</div>
<div id="step-3-predict-and-assess-accuracy-with-test-data" class="section level4" number="8.8.2.2">
<h4><span class="header-section-number">8.8.2.2</span> Step 3: Predict and assess accuracy with test data</h4>
<p>Out-of-Sample prediction</p>
<div class="sourceCode" id="cb412"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb412-1"><a href="cross-validation.html#cb412-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 3: Make a Prediction using test data and</span></span>
<span id="cb412-2"><a href="cross-validation.html#cb412-2" aria-hidden="true" tabindex="-1"></a>yhat.fit <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit, testdata)</span>
<span id="cb412-3"><a href="cross-validation.html#cb412-3" aria-hidden="true" tabindex="-1"></a>yhat.fit2 <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit2, testdata)</span></code></pre></div>
<p>Prediction error (Truth - Prediction)</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb413-1"><a href="cross-validation.html#cb413-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 3: Test accuracy of prediction</span></span>
<span id="cb413-2"><a href="cross-validation.html#cb413-2" aria-hidden="true" tabindex="-1"></a>error.fit <span class="ot">&lt;-</span> testdata<span class="sc">$</span>VP <span class="sc">-</span> yhat.fit</span>
<span id="cb413-3"><a href="cross-validation.html#cb413-3" aria-hidden="true" tabindex="-1"></a>error.fit2 <span class="ot">&lt;-</span> testdata<span class="sc">$</span>VP <span class="sc">-</span> yhat.fit2</span></code></pre></div>
</div>
<div id="step-4-repeat-process-across-all-data" class="section level4" number="8.8.2.3">
<h4><span class="header-section-number">8.8.2.3</span> Step 4: Repeat process across all data</h4>
<p>Step 4: Let’s do this for each row, storing the prediction errors.</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="cross-validation.html#cb414-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Iteration vector</span></span>
<span id="cb414-2"><a href="cross-validation.html#cb414-2" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> fair<span class="sc">$</span>t</span>
<span id="cb414-3"><a href="cross-validation.html#cb414-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Empty container vectors</span></span>
<span id="cb414-4"><a href="cross-validation.html#cb414-4" aria-hidden="true" tabindex="-1"></a>errors.fit <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(years))</span>
<span id="cb414-5"><a href="cross-validation.html#cb414-5" aria-hidden="true" tabindex="-1"></a>errors.fit2 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(years))</span>
<span id="cb414-6"><a href="cross-validation.html#cb414-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb414-7"><a href="cross-validation.html#cb414-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Loop (copy paste meat from  above)</span></span>
<span id="cb414-8"><a href="cross-validation.html#cb414-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span>  <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(years)){</span>
<span id="cb414-9"><a href="cross-validation.html#cb414-9" aria-hidden="true" tabindex="-1"></a>  traindata <span class="ot">&lt;-</span> <span class="fu">subset</span>(fair, t <span class="sc">!=</span> years[i])</span>
<span id="cb414-10"><a href="cross-validation.html#cb414-10" aria-hidden="true" tabindex="-1"></a>  testdata <span class="ot">&lt;-</span> <span class="fu">subset</span>(fair, t <span class="sc">==</span> years[i])</span>
<span id="cb414-11"><a href="cross-validation.html#cb414-11" aria-hidden="true" tabindex="-1"></a>  fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(VP <span class="sc">~</span>  DUR, <span class="at">data =</span> traindata)</span>
<span id="cb414-12"><a href="cross-validation.html#cb414-12" aria-hidden="true" tabindex="-1"></a>  fit2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(VP <span class="sc">~</span> G<span class="sc">*</span>I <span class="sc">+</span>  DUR , <span class="at">data =</span> traindata)</span>
<span id="cb414-13"><a href="cross-validation.html#cb414-13" aria-hidden="true" tabindex="-1"></a>  yhat.fit <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit, testdata)</span>
<span id="cb414-14"><a href="cross-validation.html#cb414-14" aria-hidden="true" tabindex="-1"></a>  yhat.fit2 <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit2, testdata)</span>
<span id="cb414-15"><a href="cross-validation.html#cb414-15" aria-hidden="true" tabindex="-1"></a>  errors.fit[i] <span class="ot">&lt;-</span> testdata<span class="sc">$</span>VP <span class="sc">-</span> yhat.fit</span>
<span id="cb414-16"><a href="cross-validation.html#cb414-16" aria-hidden="true" tabindex="-1"></a>  errors.fit2[i] <span class="ot">&lt;-</span> testdata<span class="sc">$</span>VP <span class="sc">-</span> yhat.fit2</span>
<span id="cb414-17"><a href="cross-validation.html#cb414-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="step-5-summarize-performance" class="section level4" number="8.8.2.4">
<h4><span class="header-section-number">8.8.2.4</span> Step 5: Summarize performance</h4>
<p>Step 5: Summarize the model performance</p>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb415-1"><a href="cross-validation.html#cb415-1" aria-hidden="true" tabindex="-1"></a><span class="do">## RMSE</span></span>
<span id="cb415-2"><a href="cross-validation.html#cb415-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">mean</span>((errors.fit)<span class="sc">^</span><span class="dv">2</span>))</span></code></pre></div>
<pre><code>## [1] 7.170149</code></pre>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="cross-validation.html#cb417-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">mean</span>((errors.fit2)<span class="sc">^</span><span class="dv">2</span>))</span></code></pre></div>
<pre><code>## [1] 3.793135</code></pre>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="cross-validation.html#cb419-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Mean Absolute Error</span></span>
<span id="cb419-2"><a href="cross-validation.html#cb419-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">abs</span>(errors.fit))</span></code></pre></div>
<pre><code>## [1] 5.937542</code></pre>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb421-1"><a href="cross-validation.html#cb421-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">abs</span>(errors.fit2))</span></code></pre></div>
<pre><code>## [1] 3.363163</code></pre>
<p>Which model tends to have less error?</p>
</div>
<div id="applying-model-to-new-data" class="section level4" number="8.8.2.5">
<h4><span class="header-section-number">8.8.2.5</span> Applying Model to New Data</h4>
<p>Eventually, you might further test the model on data that has been “held out”– data that neither your train/test has seen. How good was our model? We can do this for the 2016 election, which was not in the data.</p>
<p>Truth: 2016 VP was 51.1 Democratic “two-party” vote share.</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="cross-validation.html#cb423-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Let&#39;s use the winner of our two models</span></span>
<span id="cb423-2"><a href="cross-validation.html#cb423-2" aria-hidden="true" tabindex="-1"></a>fit2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(VP <span class="sc">~</span> G<span class="sc">*</span>I <span class="sc">+</span>  DUR, <span class="at">data =</span> fair)</span>
<span id="cb423-3"><a href="cross-validation.html#cb423-3" aria-hidden="true" tabindex="-1"></a><span class="fl">51.1</span><span class="sc">-</span><span class="fu">predict</span>(fit2, <span class="fu">data.frame</span>(<span class="at">G=</span><span class="fl">0.97</span>, <span class="at">I=</span><span class="dv">1</span>, <span class="at">DUR=</span><span class="dv">1</span>))</span></code></pre></div>
<pre><code>##        1 
## 2.472147</code></pre>
<p>2016 values based on the FAIR <a href="https://fairmodel.econ.yale.edu/vote2016/index2.htm">site</a></p>
</div>
<div id="challenge" class="section level4" number="8.8.2.6">
<h4><span class="header-section-number">8.8.2.6</span> Challenge</h4>
<p>Can you build a better model? What would your prediction for 2020 be?</p>
<ul>
<li>-5.07: growth rate of real per capita GDP in the first 3 quarters of 2020 (annual rate) (G)</li>
<li>1.80: growth rate of the GDP deflator in the first 15 quarters of the Trump administration, (annual rate) (P)</li>
<li>3: number of quarters in the first 15 quarters of the Trump administration in which the growth rate of real per capita GDP is greater than 3.2 percent at an annual rate (Z)</li>
<li>DUR=0</li>
<li>I = -1</li>
</ul>
<p>Values based on the FAIR <a href="https://fairmodel.econ.yale.edu/vote2020/computev.htm">site</a></p>

</div>
</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="uncertainty-with-prediction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="fairness.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
