<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4.12 A note on ggplot | Data Science for Political Science</title>
  <meta name="description" content="4.12 A note on ggplot | Data Science for Political Science" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="4.12 A note on ggplot | Data Science for Political Science" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.12 A note on ggplot | Data Science for Political Science" />
  
  
  

<meta name="author" content="Instructor: Katherine McCabe" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="common-r-plotting-functions-and-arguments.html"/>
<link rel="next" href="causalityii.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/vembedr-0.1.4/css/vembedr.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Course Notes</a>
<ul>
<li class="chapter" data-level="1.1" data-path="what-have-i-signed-up-for.html"><a href="what-have-i-signed-up-for.html"><i class="fa fa-check"></i><b>1.1</b> What have I signed up for?</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="what-have-i-signed-up-for.html"><a href="what-have-i-signed-up-for.html#data-science-can-help-social-scientists"><i class="fa fa-check"></i><b>1.1.1</b> Data Science Can Help Social Scientists</a></li>
<li class="chapter" data-level="1.1.2" data-path="what-have-i-signed-up-for.html"><a href="what-have-i-signed-up-for.html#course-goals"><i class="fa fa-check"></i><b>1.1.2</b> Course Goals</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="rsetup.html"><a href="rsetup.html"><i class="fa fa-check"></i><b>1.2</b> Setup in R</a></li>
<li class="chapter" data-level="1.3" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html"><i class="fa fa-check"></i><b>1.3</b> First Time Working in R and RStudio</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#open-rstudio"><i class="fa fa-check"></i><b>1.3.1</b> Open RStudio</a></li>
<li class="chapter" data-level="1.3.2" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#using-r-as-a-calculator"><i class="fa fa-check"></i><b>1.3.2</b> Using R as a Calculator</a></li>
<li class="chapter" data-level="1.3.3" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#working-in-an-r-script"><i class="fa fa-check"></i><b>1.3.3</b> Working in an R Script</a></li>
<li class="chapter" data-level="1.3.4" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#preparing-your-r-script"><i class="fa fa-check"></i><b>1.3.4</b> Preparing your R script</a></li>
<li class="chapter" data-level="1.3.5" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#executing-commands-in-your-r-script"><i class="fa fa-check"></i><b>1.3.5</b> Executing Commands in your R script</a></li>
<li class="chapter" data-level="1.3.6" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#objects"><i class="fa fa-check"></i><b>1.3.6</b> Objects</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="assignment-1.html"><a href="assignment-1.html"><i class="fa fa-check"></i><b>1.4</b> Assignment 1</a></li>
<li class="chapter" data-level="1.5" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>1.5</b> R Markdown</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="r-markdown.html"><a href="r-markdown.html#how-to-get-setup-in-rmarkdown"><i class="fa fa-check"></i><b>1.5.1</b> How to get setup in RMarkdown</a></li>
<li class="chapter" data-level="1.5.2" data-path="r-markdown.html"><a href="r-markdown.html#additional-rmarkdown-resources"><i class="fa fa-check"></i><b>1.5.2</b> Additional RMarkdown resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="description.html"><a href="description.html"><i class="fa fa-check"></i><b>2</b> Description</a>
<ul>
<li class="chapter" data-level="2.1" data-path="process-of-describing.html"><a href="process-of-describing.html"><i class="fa fa-check"></i><b>2.1</b> Process of Describing</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="process-of-describing.html"><a href="process-of-describing.html#example-process"><i class="fa fa-check"></i><b>2.1.1</b> Example Process</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="summarizing-univariate-data.html"><a href="summarizing-univariate-data.html"><i class="fa fa-check"></i><b>2.2</b> Summarizing univariate data</a></li>
<li class="chapter" data-level="2.3" data-path="functions-to-summarize-univariate-data.html"><a href="functions-to-summarize-univariate-data.html"><i class="fa fa-check"></i><b>2.3</b> Functions to summarize univariate data</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="functions-to-summarize-univariate-data.html"><a href="functions-to-summarize-univariate-data.html#using-functions-in-r-overview"><i class="fa fa-check"></i><b>2.3.1</b> Using functions in R (overview)</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html"><i class="fa fa-check"></i><b>2.4</b> Loading data into R</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#working-with-datasets-in-r"><i class="fa fa-check"></i><b>2.4.1</b> Working with datasets in R</a></li>
<li class="chapter" data-level="2.4.2" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#measuring-the-turnout-in-the-us-elections"><i class="fa fa-check"></i><b>2.4.2</b> Measuring the Turnout in the US Elections</a></li>
<li class="chapter" data-level="2.4.3" data-path="loading-data-into-r.html"><a href="loading-data-into-r.html#getting-to-know-your-data"><i class="fa fa-check"></i><b>2.4.3</b> Getting to know your data</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="comparing-vep-and-vap-turnout.html"><a href="comparing-vep-and-vap-turnout.html"><i class="fa fa-check"></i><b>2.5</b> Comparing VEP and VAP turnout</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="comparing-vep-and-vap-turnout.html"><a href="comparing-vep-and-vap-turnout.html#creating-new-variables-in-r"><i class="fa fa-check"></i><b>2.5.1</b> Creating new variables in R</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="comparing-presidential-vs-midterm-turnout.html"><a href="comparing-presidential-vs-midterm-turnout.html"><i class="fa fa-check"></i><b>2.6</b> Comparing Presidential vs. Midterm turnout</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="comparing-presidential-vs-midterm-turnout.html"><a href="comparing-presidential-vs-midterm-turnout.html#r-shortcut-for-writing-vectors"><i class="fa fa-check"></i><b>2.6.1</b> R shortcut for writing vectors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="causation1.html"><a href="causation1.html"><i class="fa fa-check"></i><b>3</b> Causation with Experiments</a>
<ul>
<li class="chapter" data-level="3.1" data-path="what-separates-causation-from-correlation.html"><a href="what-separates-causation-from-correlation.html"><i class="fa fa-check"></i><b>3.1</b> What separates causation from correlation?</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="what-separates-causation-from-correlation.html"><a href="what-separates-causation-from-correlation.html#potential-outcomes-framework"><i class="fa fa-check"></i><b>3.1.1</b> Potential Outcomes Framework</a></li>
<li class="chapter" data-level="3.1.2" data-path="what-separates-causation-from-correlation.html"><a href="what-separates-causation-from-correlation.html#causal-effects"><i class="fa fa-check"></i><b>3.1.2</b> Causal Effects</a></li>
<li class="chapter" data-level="3.1.3" data-path="what-separates-causation-from-correlation.html"><a href="what-separates-causation-from-correlation.html#fundamental-problem-of-causal-inference"><i class="fa fa-check"></i><b>3.1.3</b> Fundamental Problem of Causal Inference</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="randomized-controlled-trials.html"><a href="randomized-controlled-trials.html"><i class="fa fa-check"></i><b>3.2</b> Randomized Controlled Trials</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="randomized-controlled-trials.html"><a href="randomized-controlled-trials.html#experiments-why-randomize"><i class="fa fa-check"></i><b>3.2.1</b> Experiments: Why Randomize?</a></li>
<li class="chapter" data-level="3.2.2" data-path="randomized-controlled-trials.html"><a href="randomized-controlled-trials.html#experiments-how-to-analyze"><i class="fa fa-check"></i><b>3.2.2</b> Experiments: How to Analyze</a></li>
<li class="chapter" data-level="3.2.3" data-path="randomized-controlled-trials.html"><a href="randomized-controlled-trials.html#ingredients-of-an-experiment"><i class="fa fa-check"></i><b>3.2.3</b> Ingredients of an Experiment</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="application-is-there-racial-discrimination-in-the-labor-market.html"><a href="application-is-there-racial-discrimination-in-the-labor-market.html"><i class="fa fa-check"></i><b>3.3</b> Application: Is there racial discrimination in the labor market?</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="application-is-there-racial-discrimination-in-the-labor-market.html"><a href="application-is-there-racial-discrimination-in-the-labor-market.html#variable-classes"><i class="fa fa-check"></i><b>3.3.1</b> Variable classes</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="making-tables.html"><a href="making-tables.html"><i class="fa fa-check"></i><b>3.4</b> Making tables</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="making-tables.html"><a href="making-tables.html#crosstabulation"><i class="fa fa-check"></i><b>3.4.1</b> Crosstabulation</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="conditional-means.html"><a href="conditional-means.html"><i class="fa fa-check"></i><b>3.5</b> Conditional Means</a></li>
<li class="chapter" data-level="3.6" data-path="relational-operators-in-r.html"><a href="relational-operators-in-r.html"><i class="fa fa-check"></i><b>3.6</b> Relational Operators in R</a></li>
<li class="chapter" data-level="3.7" data-path="subsetting-data-in-r.html"><a href="subsetting-data-in-r.html"><i class="fa fa-check"></i><b>3.7</b> Subsetting data in R</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="subsetting-data-in-r.html"><a href="subsetting-data-in-r.html#getting-booooooooolean"><i class="fa fa-check"></i><b>3.7.1</b> Getting Booooooooolean</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="creating-new-variables-using-conditional-statements.html"><a href="creating-new-variables-using-conditional-statements.html"><i class="fa fa-check"></i><b>3.8</b> Creating New Variables using Conditional statements</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="creating-new-variables-using-conditional-statements.html"><a href="creating-new-variables-using-conditional-statements.html#ifelse-statements"><i class="fa fa-check"></i><b>3.8.1</b> ifelse statements</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="types-of-experiments.html"><a href="types-of-experiments.html"><i class="fa fa-check"></i><b>3.9</b> Types of Experiments</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>4</b> Visualization</a>
<ul>
<li class="chapter" data-level="4.1" data-path="application-social-status-and-economic-views.html"><a href="application-social-status-and-economic-views.html"><i class="fa fa-check"></i><b>4.1</b> Application: Social Status and Economic Views</a></li>
<li class="chapter" data-level="4.2" data-path="boxplots.html"><a href="boxplots.html"><i class="fa fa-check"></i><b>4.2</b> Boxplots</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="boxplots.html"><a href="boxplots.html#data-summary-boxplot"><i class="fa fa-check"></i><b>4.2.1</b> Data Summary: Boxplot</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="barplots.html"><a href="barplots.html"><i class="fa fa-check"></i><b>4.3</b> Barplots</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="barplots.html"><a href="barplots.html#saving-plots"><i class="fa fa-check"></i><b>4.3.1</b> Saving Plots</a></li>
<li class="chapter" data-level="4.3.2" data-path="barplots.html"><a href="barplots.html#creating-new-variables"><i class="fa fa-check"></i><b>4.3.2</b> Creating New Variables</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="application-changing-minds-on-gay-marriage.html"><a href="application-changing-minds-on-gay-marriage.html"><i class="fa fa-check"></i><b>4.4</b> Application: Changing Minds on Gay Marriage</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="application-changing-minds-on-gay-marriage.html"><a href="application-changing-minds-on-gay-marriage.html#creating-new-variable"><i class="fa fa-check"></i><b>4.4.1</b> Creating new variable</a></li>
<li class="chapter" data-level="4.4.2" data-path="application-changing-minds-on-gay-marriage.html"><a href="application-changing-minds-on-gay-marriage.html#using-ifelse-to-create-new-variable"><i class="fa fa-check"></i><b>4.4.2</b> Using ifelse to create new variable</a></li>
<li class="chapter" data-level="4.4.3" data-path="application-changing-minds-on-gay-marriage.html"><a href="application-changing-minds-on-gay-marriage.html#calculating-the-average-treatment-effect"><i class="fa fa-check"></i><b>4.4.3</b> Calculating the Average Treatment Effect</a></li>
<li class="chapter" data-level="4.4.4" data-path="application-changing-minds-on-gay-marriage.html"><a href="application-changing-minds-on-gay-marriage.html#visualize-means-in-a-barplot"><i class="fa fa-check"></i><b>4.4.4</b> Visualize means in a barplot</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="scatterplots.html"><a href="scatterplots.html"><i class="fa fa-check"></i><b>4.5</b> Scatterplots</a></li>
<li class="chapter" data-level="4.6" data-path="histograms.html"><a href="histograms.html"><i class="fa fa-check"></i><b>4.6</b> Histograms</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="histograms.html"><a href="histograms.html#happy-research-ending"><i class="fa fa-check"></i><b>4.6.1</b> Happy research ending</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="application-trends-during-covid.html"><a href="application-trends-during-covid.html"><i class="fa fa-check"></i><b>4.7</b> Application: Trends during COVID</a></li>
<li class="chapter" data-level="4.8" data-path="line-plots-in-r.html"><a href="line-plots-in-r.html"><i class="fa fa-check"></i><b>4.8</b> Line Plots in R</a></li>
<li class="chapter" data-level="4.9" data-path="causal-claims-from-before-vs-after-comparisons.html"><a href="causal-claims-from-before-vs-after-comparisons.html"><i class="fa fa-check"></i><b>4.9</b> Causal claims from before vs. after comparisons</a></li>
<li class="chapter" data-level="4.10" data-path="visual-tips-and-tricks.html"><a href="visual-tips-and-tricks.html"><i class="fa fa-check"></i><b>4.10</b> Visual tips and tricks</a></li>
<li class="chapter" data-level="4.11" data-path="common-r-plotting-functions-and-arguments.html"><a href="common-r-plotting-functions-and-arguments.html"><i class="fa fa-check"></i><b>4.11</b> Common R plotting functions and arguments</a></li>
<li class="chapter" data-level="4.12" data-path="a-note-on-ggplot.html"><a href="a-note-on-ggplot.html"><i class="fa fa-check"></i><b>4.12</b> A note on <code>ggplot</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="causalityii.html"><a href="causalityii.html"><i class="fa fa-check"></i><b>5</b> Causality with Non-Experimental Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="why-cant-we-always-experiment.html"><a href="why-cant-we-always-experiment.html"><i class="fa fa-check"></i><b>5.1</b> Why can’t we always experiment?</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="why-cant-we-always-experiment.html"><a href="why-cant-we-always-experiment.html#what-can-we-do-instead"><i class="fa fa-check"></i><b>5.1.1</b> What can we do instead?</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="causal-identification-strategies.html"><a href="causal-identification-strategies.html"><i class="fa fa-check"></i><b>5.2</b> Causal Identification Strategies</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="causal-identification-strategies.html"><a href="causal-identification-strategies.html#three-common-identification-strategies"><i class="fa fa-check"></i><b>5.2.1</b> Three Common Identification Strategies</a></li>
<li class="chapter" data-level="5.2.2" data-path="causal-identification-strategies.html"><a href="causal-identification-strategies.html#threats-to-cross-section-designs"><i class="fa fa-check"></i><b>5.2.2</b> Threats to Cross-Section Designs</a></li>
<li class="chapter" data-level="5.2.3" data-path="causal-identification-strategies.html"><a href="causal-identification-strategies.html#threats-to-before-after-designs"><i class="fa fa-check"></i><b>5.2.3</b> Threats to Before-After Designs</a></li>
<li class="chapter" data-level="5.2.4" data-path="causal-identification-strategies.html"><a href="causal-identification-strategies.html#threats-to-diff-in-diff-designs"><i class="fa fa-check"></i><b>5.2.4</b> Threats to Diff-in-Diff Designs</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="application-economic-effects-of-basque-terrorism.html"><a href="application-economic-effects-of-basque-terrorism.html"><i class="fa fa-check"></i><b>5.3</b> Application: Economic Effects of Basque Terrorism</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="application-economic-effects-of-basque-terrorism.html"><a href="application-economic-effects-of-basque-terrorism.html#applying-3-identification-strategies"><i class="fa fa-check"></i><b>5.3.1</b> Applying 3 Identification Strategies</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="placebo-tests.html"><a href="placebo-tests.html"><i class="fa fa-check"></i><b>5.4</b> Placebo Tests</a></li>
<li class="chapter" data-level="5.5" data-path="wrapping-up-causality.html"><a href="wrapping-up-causality.html"><i class="fa fa-check"></i><b>5.5</b> Wrapping Up Causality</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>6</b> Loops in R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="the-anatomy-of-a-loop.html"><a href="the-anatomy-of-a-loop.html"><i class="fa fa-check"></i><b>6.1</b> The anatomy of a loop</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="the-anatomy-of-a-loop.html"><a href="the-anatomy-of-a-loop.html#the-key-parts-of-a-loop"><i class="fa fa-check"></i><b>6.1.1</b> The key parts of a loop</a></li>
<li class="chapter" data-level="6.1.2" data-path="the-anatomy-of-a-loop.html"><a href="the-anatomy-of-a-loop.html#a-short-example"><i class="fa fa-check"></i><b>6.1.2</b> A short example</a></li>
<li class="chapter" data-level="6.1.3" data-path="the-anatomy-of-a-loop.html"><a href="the-anatomy-of-a-loop.html#troubleshooting-a-loop"><i class="fa fa-check"></i><b>6.1.3</b> Troubleshooting a loop</a></li>
<li class="chapter" data-level="6.1.4" data-path="the-anatomy-of-a-loop.html"><a href="the-anatomy-of-a-loop.html#your-turn"><i class="fa fa-check"></i><b>6.1.4</b> Your turn</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="application-u-s-supreme-court.html"><a href="application-u-s-supreme-court.html"><i class="fa fa-check"></i><b>6.2</b> Application: U.S. Supreme Court</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="application-u-s-supreme-court.html"><a href="application-u-s-supreme-court.html#troubleshooting-the-loop"><i class="fa fa-check"></i><b>6.2.1</b> Troubleshooting the loop</a></li>
<li class="chapter" data-level="6.2.2" data-path="application-u-s-supreme-court.html"><a href="application-u-s-supreme-court.html#visualizing-the-results"><i class="fa fa-check"></i><b>6.2.2</b> Visualizing the Results</a></li>
<li class="chapter" data-level="6.2.3" data-path="application-u-s-supreme-court.html"><a href="application-u-s-supreme-court.html#enhancing-the-plot"><i class="fa fa-check"></i><b>6.2.3</b> Enhancing the plot</a></li>
<li class="chapter" data-level="6.2.4" data-path="application-u-s-supreme-court.html"><a href="application-u-s-supreme-court.html#wrapping-up"><i class="fa fa-check"></i><b>6.2.4</b> Wrapping Up</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science for Political Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="a-note-on-ggplot" class="section level2" number="4.12">
<h2><span class="header-section-number">4.12</span> A note on <code>ggplot</code></h2>
<p>R has a number of open-source packages that people can use to expand the set of capabilities for visualization and analysis. These can be installed through RStudio. We will look at one of these packages: <code>ggplot2</code>.</p>
<p><strong><em>Using ggplot will be extra-credit at this point in the course. We may return to it later in the semester as part of the main curriculum. Reviewing this section of the notes is optional.</em></strong></p>
<p>The “gg” in ggplot2 stands for the “Grammar of Graphics.” This program provides another framework for creating figures in R. According to Hadley Wickham, “ggplot2 provides beautiful, hassle-free plots that take care of fiddly details like drawing legends.”</p>
<p>Practically speaking, <code>ggplot()</code> is another tool to plot the same types of figures we have been making in class. Some people prefer <code>ggplot2</code> because they find the logic of building figures more intuitive using this framework and/or more aesthetically pleasing. However, both <code>ggplot()</code> and the plots we have been making in class can accomplish the same ultimate goals of data visualization– to communicate information transparently, quickly, accurately, simply, and beautifully. Which types of plots you may prefer is up to your own taste.</p>
<p>Think of packages like apps on a smartphone.</p>
<ul>
<li>If RStudio is our smartphone, we install a package like you install an app on the phone. You only have to do this once, though occasionally you may want or need to update the installation to a new version.</li>
</ul>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="a-note-on-ggplot.html#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Run this line in your R console</span></span>
<span id="cb225-2"><a href="a-note-on-ggplot.html#cb225-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;ggplot2&quot;</span>)</span></code></pre></div>
<ul>
<li>On a smartphone, every time you want to use an app after you have installed it, you have to open the app. Similarly, every time we want to open a package in RStudio, we have to open it by using the <code>library()</code> command</li>
</ul>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="a-note-on-ggplot.html#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Add and run this line in your R script, above the code where you will use functions from the package</span></span>
<span id="cb226-2"><a href="a-note-on-ggplot.html#cb226-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code></pre></div>
<p>The main plotting function in <code>ggplot2</code> is the <code>ggplot()</code> function. It will give you access to barplots, boxplots, scatterplots, histograms, etc.</p>
<ul>
<li>The syntax within this package is a little different from the base R plotting functions. We will investigate below. For now, here is an example of using <code>ggplot</code> to create a boxplot using the experiment on social status from earlier in this section.</li>
</ul>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="a-note-on-ggplot.html#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>status, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>condition, <span class="at">y=</span>econcon)) <span class="sc">+</span></span>
<span id="cb227-2"><a href="a-note-on-ggplot.html#cb227-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="datasciforpolisci_files/figure-html/unnamed-chunk-126-1.svg" width="672" /></p>
<p>The three primary components of a ggplot() are a dataframe (<code>data =</code>), a set of mapping aesthetics (<code>aes()</code>), and <code>geoms</code> (e.g., geom boxplot, geom bar, geom point, geom line, etc.).</p>
<ul>
<li>The function <code>ggplot()</code> first takes a dataframe that includes the values you would like to plot (e.g., <code>data = status</code>).</li>
<li>The aesthetics then include the variable names that you want to plot on the x and y axis (e.g., <code>aes(x=condition, y=econcon)</code>)
<ul>
<li>Additional mapping aesthetics can be specified. For example, a third variable (or a repeat of a previous variable) can also be specified (e.g., <code>fill =</code>, <code>colour =</code>, <code>shape =</code>), which acts as a grouping variable. If this is specified, <code>ggplot()</code> will create a corresponding legend for the plot and will color/make different shapes for different groups within this third variable (See the boxplot below for an example of grouping by condition).</li>
</ul></li>
<li>After closing out the first <code>ggplot()</code> parentheses, you then annotate the plot by adding (<code>+</code>) a geometric layer. This is essentially where you specify the type of plot (though it is possible to have multiple geometric layers).</li>
<li>Just like with the other plotting functions in R, you can also specify a number of other arguments to make your plot more informative and aesthetically pleasing. Here, you do this by adding (<code>+</code>) additional arguments. See examples below (e.g., <code>ggtitle</code>, <code>xlab</code>, <code>ylab</code> for titles, <code>ylim</code> for y-axis limits, etc.)</li>
<li>Likewise, just like with the other plotting functions, you can save your plots as a pdf or png. To do so here, you include the line <code>ggsave()</code> just below your plot.</li>
</ul>
<p>There are many more possibilities for plotting with <code>ggplot()</code>, but these should get you started. For additional resources on all that is gg, I recommend the <a href="https://%20r-graphics.org/">R Graphics Cookbook</a>.</p>
<p>Here is a second version of the boxplot with more aesthetics specified.</p>
<ul>
<li>We will color in the boxes based on the collapsed condition variable.</li>
</ul>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="a-note-on-ggplot.html#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>status, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>condition, <span class="at">y=</span>econcon, <span class="at">fill=</span>conditionnew)) <span class="sc">+</span></span>
<span id="cb228-2"><a href="a-note-on-ggplot.html#cb228-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Specifies plot type. E.g., also have geom_point(), geom_bar()</span></span>
<span id="cb228-3"><a href="a-note-on-ggplot.html#cb228-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()<span class="sc">+</span></span>
<span id="cb228-4"><a href="a-note-on-ggplot.html#cb228-4" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Note many arguments are similar to other R functions but the syntax is a little different</span></span>
<span id="cb228-5"><a href="a-note-on-ggplot.html#cb228-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Economic Views by Experimental Condition&quot;</span>)<span class="sc">+</span></span>
<span id="cb228-6"><a href="a-note-on-ggplot.html#cb228-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Economic Views&quot;</span>)<span class="sc">+</span></span>
<span id="cb228-7"><a href="a-note-on-ggplot.html#cb228-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Experimental Condition&quot;</span>)<span class="sc">+</span></span>
<span id="cb228-8"><a href="a-note-on-ggplot.html#cb228-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb228-9"><a href="a-note-on-ggplot.html#cb228-9" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Changes the overall theme (i.e., color scheme, borders, etc.)</span></span>
<span id="cb228-10"><a href="a-note-on-ggplot.html#cb228-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb228-11"><a href="a-note-on-ggplot.html#cb228-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;bottom&quot;</span>)</span></code></pre></div>
<p><img src="datasciforpolisci_files/figure-html/unnamed-chunk-127-1.svg" width="672" /></p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="a-note-on-ggplot.html#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;myboxplot.pdf&quot;</span>, <span class="at">width=</span><span class="dv">7</span>, <span class="at">height=</span><span class="dv">5</span>)</span></code></pre></div>
<p>Here is an example of a histogram from the application on views toward gay couples.</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="a-note-on-ggplot.html#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(controlonly, <span class="fu">aes</span>(<span class="at">x=</span>therm1)) <span class="sc">+</span></span>
<span id="cb230-2"><a href="a-note-on-ggplot.html#cb230-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb230-3"><a href="a-note-on-ggplot.html#cb230-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;W1 Histogram&quot;</span>) <span class="sc">+</span></span>
<span id="cb230-4"><a href="a-note-on-ggplot.html#cb230-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="datasciforpolisci_files/figure-html/unnamed-chunk-128-1.svg" width="672" /></p>
<p>Instead of displaying multiple categories through different shapes or colors, we could also create multiple mini plots instead. This is done through <code>facet</code>. Let’s look at a histogram for each condition for the thermometers in wave 2.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="a-note-on-ggplot.html#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(marriage1, <span class="fu">aes</span>(<span class="at">x=</span>therm2)) <span class="sc">+</span></span>
<span id="cb231-2"><a href="a-note-on-ggplot.html#cb231-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb231-3"><a href="a-note-on-ggplot.html#cb231-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;W2 Histogram by Condition&quot;</span>) <span class="sc">+</span></span>
<span id="cb231-4"><a href="a-note-on-ggplot.html#cb231-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Feeling Thermometer Wave 2&quot;</span>)<span class="sc">+</span></span>
<span id="cb231-5"><a href="a-note-on-ggplot.html#cb231-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb231-6"><a href="a-note-on-ggplot.html#cb231-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>treatmentnew)</span></code></pre></div>
<pre><code>## Warning: Removed 1042 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="datasciforpolisci_files/figure-html/unnamed-chunk-129-1.svg" width="672" /></p>
<p>We can similarly create a scatter and line plot. Let’s use the social mobility data. Here we see <code>geom_point</code> and <code>geom_line</code>.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="a-note-on-ggplot.html#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Scatterplot</span></span>
<span id="cb233-2"><a href="a-note-on-ggplot.html#cb233-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(covidsub, <span class="fu">aes</span>(<span class="at">x=</span>Dates, <span class="at">y=</span>avg_USA)) <span class="sc">+</span></span>
<span id="cb233-3"><a href="a-note-on-ggplot.html#cb233-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb233-4"><a href="a-note-on-ggplot.html#cb233-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Average Social Mobility in US&quot;</span>) <span class="sc">+</span></span>
<span id="cb233-5"><a href="a-note-on-ggplot.html#cb233-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Date&quot;</span>)<span class="sc">+</span></span>
<span id="cb233-6"><a href="a-note-on-ggplot.html#cb233-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Avg Social Mobility&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 4 rows containing missing values (geom_point).</code></pre>
<p><img src="datasciforpolisci_files/figure-html/unnamed-chunk-130-1.svg" width="672" /></p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="a-note-on-ggplot.html#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Line plot</span></span>
<span id="cb235-2"><a href="a-note-on-ggplot.html#cb235-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(covidsub, <span class="fu">aes</span>(<span class="at">x=</span>Dates, <span class="at">y=</span>avg_USA)) <span class="sc">+</span></span>
<span id="cb235-3"><a href="a-note-on-ggplot.html#cb235-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb235-4"><a href="a-note-on-ggplot.html#cb235-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Average Social Mobility in US&quot;</span>) <span class="sc">+</span></span>
<span id="cb235-5"><a href="a-note-on-ggplot.html#cb235-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Date&quot;</span>)<span class="sc">+</span></span>
<span id="cb235-6"><a href="a-note-on-ggplot.html#cb235-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Avg Social Mobility&quot;</span>)</span></code></pre></div>
<p><img src="datasciforpolisci_files/figure-html/unnamed-chunk-130-2.svg" width="672" /></p>

</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="common-r-plotting-functions-and-arguments.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="causalityii.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
